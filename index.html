<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>QArt Coder</title>
  <style>
  .article {
    display: flex;
    justify-content: center;
  }
  #arrows2 {
    border-spacing: 0;
  }
  #controls {
  }
  #output {
    flex: 250px;
    flex-grow: 0;
  }
  #leftcol {
    margin-top: 20px;
  }
  #wasm1, #wasm2 {
    display: none;
  }
  #img-output {
    width: 250px;
    height: 100%;
  }
  #help {
  }
  #about {
    margin-top: 2em;
  }
  a#left { margin-right: 3px; }
  a#right { margin-left: 3px; }
  h1 {
    text-align: left !important;
  }
  </style>
</head>
<body>
  <h1><center>QArt Coder</center></h1>
  <div class="all">
  <div class="article">
  <div id="output">
  <center id="wasm1">
  <div id="err-output"></div>
  <img id="img-output">
  <br>
  <a id="img-download" download="qart.png" href="">Download QR Code</a>
  </center>
  </div><!-- output -->
  <div id="leftcol">
    <div id="loading">
    Loading WebAssembly...
    </div>
    <div id="wasm2">
    <div id="controls">
      <div id="urlbox">
      <label for="upload-input">Upload Image:</label> <input id="upload-input" type="file" accept="image/*">
      <br>
      <font size=-1>Tip: Small, high contrast images work best.</font>
      </div>
      <br>
      <button id="process-image">Process Image</button>
      <br>
      <br>
      <button id="redraw">Redraw</button>
      &nbsp; &nbsp;
      <button id="rotate">Rotate</button>
      <br>
      <br>
      <div id="help">
      Use the blue buttons to move the image within the code<br>
      and to change the size of the code and the image.<br>
      <br>
      Powered by <a href="/qart">QArt Codes</a> and <a href="https://go.dev/wiki/WebAssembly">Go+WebAssembly</a>.
      </div><!-- help -->
    </div><!-- controls -->
    </div><!-- wasm -->
  </div><!-- leftcol -->
  </div><!-- article -->

  <script>
    document.getElementById('process-image').addEventListener('click', function() {
      var fileInput = document.getElementById('upload-input');
      var file = fileInput.files[0];
      var reader = new FileReader();
      reader.onload = function(event) {
        var img = document.getElementById('img-output');
        img.src = event.target.result;
      };
      reader.readAsDataURL(file);
    });

    // Add your image processing code here
  </script>
</body>
</html>
